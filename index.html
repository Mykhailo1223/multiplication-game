<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–Ω–∞–∂–µ—Ä —Ç–∞–±–ª–∏—Ü—ñ –º–Ω–æ–∂–µ–Ω–Ω—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .screen {
            background: white;
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 500px;
            width: 100%;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        #mainScreen {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .greeting {
            color: #fd79a8;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        h1 {
            color: #2d3436;
            margin-bottom: 30px;
            font-size: 2.8em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .cover-image {
            width: 220px;
            height: 220px;
            margin: 25px auto;
            background: linear-gradient(45deg, #ffeaa7, #fab1a0);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5em;
            color: #e17055;
            border: 10px solid #fd79a8;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .btn {
            background: linear-gradient(45deg, #fd79a8, #e17055);
            color: white;
            border: none;
            padding: 18px 35px;
            font-size: 1.4em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            font-weight: bold;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.3);
        }

        .number-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 35px 0;
        }

        .number-btn {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
            border: none;
            padding: 25px;
            font-size: 1.8em;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            font-weight: bold;
        }

        .number-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .cat-image {
            width: 180px;
            height: 180px;
            margin: 25px auto;
            background: linear-gradient(45deg, #dfe6e9, #b2bec3);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5em;
            border: 6px solid #636e72;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .progress {
            background: linear-gradient(45deg, #00b894, #00a085);
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            margin: 25px 0;
            font-size: 1.3em;
            display: inline-block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-weight: bold;
        }

        .lets-go {
            background: linear-gradient(45deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            margin: 20px 0;
            font-size: 1.4em;
            display: inline-block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-weight: bold;
        }

        .question {
            background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            font-size: 2.2em;
            color: #2d3436;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            font-weight: bold;
        }

        .answers {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        .answer-btn {
            background: linear-gradient(45deg, #a29bfe, #6c5ce7);
            color: white;
            border: none;
            padding: 25px;
            font-size: 1.5em;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            font-weight: bold;
        }

        .answer-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .back-btn {
            background: linear-gradient(45deg, #636e72, #2d3436);
            margin-top: 25px;
            padding: 15px 30px;
            font-size: 1.2em;
        }

        .correct {
            background: linear-gradient(45deg, #00b894, #00a085) !important;
            transform: scale(1.05);
        }

        .wrong {
            background: linear-gradient(45deg, #d63031, #c23616) !important;
            transform: scale(1.05);
        }

        .result-screen {
            text-align: center;
        }

        .result-image {
            width: 200px;
            height: 200px;
            margin: 25px auto;
            background: linear-gradient(45deg, #ffeaa7, #fab1a0);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6em;
            border: 10px solid #fd79a8;
        }

        .score {
            font-size: 3em;
            color: #2d3436;
            margin: 20px 0;
            font-weight: bold;
        }

        .message {
            font-size: 1.4em;
            color: #636e72;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <!-- –ì–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω -->
    <div id="mainScreen" class="screen">
        <div class="greeting">–ü—Ä–∏–≤—ñ—Ç, 4-–ê! ‚ú®</div>
        <h1>–¢–∞–±–ª–∏—Ü—è –º–Ω–æ–∂–µ–Ω–Ω—è</h1>
        <div class="cover-image">üê±</div>
        <button class="btn" onclick="showNumberSelection()">–ü–û–ß–ê–¢–ò</button>
    </div>

    <!-- –ï–∫—Ä–∞–Ω –≤–∏–±–æ—Ä—É —á–∏—Å–ª–∞ -->
    <div id="numberScreen" class="screen">
        <div class="greeting">–ü—Ä–∏–≤—ñ—Ç, 4-–ê! ‚ú®</div>
        <h1>–û–±–µ—Ä–∏ —á–∏—Å–ª–æ</h1>
        <div class="number-buttons" id="numberButtons">
            <!-- –ö–Ω–æ–ø–∫–∏ –∑ —á–∏—Å–ª–∞–º–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ JavaScript -->
        </div>
        <button class="btn back-btn" onclick="showMainScreen()">–ù–∞–∑–∞–¥</button>
    </div>

    <!-- –ï–∫—Ä–∞–Ω –≥—Ä–∏ -->
    <div id="gameScreen" class="screen">
        <div class="greeting">–ü—Ä–∏–≤—ñ—Ç, 4-–ê! ‚ú®</div>
        <div class="cat-image">üò∏</div>
        <div class="lets-go" id="letsGo">–ü–û–ì–ù–ê–õ–ò!</div>
        <div class="progress" id="progress">–ü–∏—Ç–∞–Ω–Ω—è: 1/10</div>
        <div class="question" id="question">3 √ó 9 = ?</div>
        <div class="answers" id="answers">
            <!-- –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ JavaScript -->
        </div>
        <button class="btn back-btn" onclick="showNumberSelection()">–ù–∞–∑–∞–¥</button>
    </div>

    <!-- –ï–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ -->
    <div id="resultScreen" class="screen result-screen">
        <div class="greeting">–ü—Ä–∏–≤—ñ—Ç, 4-–ê! ‚ú®</div>
        <div class="result-image" id="resultImage">üéâ</div>
        <div class="score" id="finalScore">10/10</div>
        <div class="message" id="resultMessage">–í—ñ–¥–º—ñ–Ω–Ω–æ! –¢–∏ –≥–µ–Ω—ñ–π! üöÄ</div>
        <button class="btn" onclick="showNumberSelection()">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ</button>
        <button class="btn back-btn" onclick="showMainScreen()">–ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
    </div>

    <script>
        let currentNumber = 0;
        let currentQuestion = 0;
        const totalQuestions = 10;
        let score = 0;
        let usedExamples = new Set();

        // –°—Ç–≤–æ—Ä—é—î–º–æ –∑–≤—É–∫–∏
        const correctSound = new Audio("data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==");
        const wrongSound = new Audio("data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==");

        // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏—î–º–Ω–æ–≥–æ –∑–≤—É–∫—É (correct)
        function createCorrectSound() {
            const context = new AudioContext();
            const oscillator = context.createOscillator();
            const gainNode = context.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(context.destination);
            
            oscillator.frequency.value = 523.25; // –ù–æ—Ç–∞ C5
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, context.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.5);
            
            oscillator.start(context.currentTime);
            oscillator.stop(context.currentTime + 0.5);
        }

        // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ–ø—Ä–∏—î–º–Ω–æ–≥–æ –∑–≤—É–∫—É (wrong)
        function createWrongSound() {
            const context = new AudioContext();
            const oscillator = context.createOscillator();
            const gainNode = context.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(context.destination);
            
            oscillator.frequency.value = 220; // –ù–∏–∑—å–∫–∞ –Ω–æ—Ç–∞ A3
            oscillator.type = 'sawtooth';
            
            gainNode.gain.setValueAtTime(0.3, context.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.3);
            
            oscillator.start(context.currentTime);
            oscillator.stop(context.currentTime + 0.3);
        }

        // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–Ω–æ–ø–∫–∏ –∑ —á–∏—Å–ª–∞–º–∏ —Ç–∞ –∑—ñ—Ä–æ—á–∫–∞–º–∏
        function createNumberButtons() {
            const container = document.getElementById('numberButtons');
            container.innerHTML = '';
            
            for (let i = 1; i <= 9; i++) {
                const button = document.createElement('button');
                button.className = 'number-btn';
                button.textContent = i + ' *';
                button.onclick = () => startGame(i);
                container.appendChild(button);
            }
        }

        // –ü–æ–∫–∞–∑—É—î–º–æ –≥–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω
        function showMainScreen() {
            hideAllScreens();
            document.getElementById('mainScreen').style.display = 'block';
        }

        // –ü–æ–∫–∞–∑—É—î–º–æ –µ–∫—Ä–∞–Ω –≤–∏–±–æ—Ä—É —á–∏—Å–ª–∞
        function showNumberSelection() {
            hideAllScreens();
            document.getElementById('numberScreen').style.display = 'block';
            createNumberButtons();
        }

        // –ü–æ—á–∏–Ω–∞—î–º–æ –≥—Ä—É –∑ –æ–±—Ä–∞–Ω–∏–º —á–∏—Å–ª–æ–º
        function startGame(number) {
            currentNumber = number;
            currentQuestion = 0;
            score = 0;
            usedExamples.clear();
            hideAllScreens();
            document.getElementById('gameScreen').style.display = 'block';
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –Ω–∞–ø–∏—Å "–ü–æ–≥–Ω–∞–ª–∏!" –∑ –æ–±—Ä–∞–Ω–∏–º —á–∏—Å–ª–æ–º
            document.getElementById('letsGo').textContent = `${currentNumber} √ó —Ç–∞–±–ª–∏—Ü—è - –ü–û–ì–ù–ê–õ–ò!`;
            
            generateQuestion();
        }

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è
        function generateQuestion() {
            if (currentQuestion >= totalQuestions) {
                showResults();
                return;
            }
            
            currentQuestion++;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å
            document.getElementById('progress').textContent = `–ü–∏—Ç–∞–Ω–Ω—è: ${currentQuestion}/${totalQuestions}`;
            
            // –ì–µ–Ω–µ—Ä—É—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥
            let randomMultiplier, exampleKey;
            do {
                randomMultiplier = Math.floor(Math.random() * 10) + 1;
                exampleKey = `${currentNumber}x${randomMultiplier}`;
            } while (usedExamples.has(exampleKey) && usedExamples.size < 10);
            
            usedExamples.add(exampleKey);
            const correctAnswer = currentNumber * randomMultiplier;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
            document.getElementById('question').textContent = `${currentNumber} √ó ${randomMultiplier} = ?`;
            
            // –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
            generateAnswers(correctAnswer, randomMultiplier);
        }

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
        function generateAnswers(correctAnswer, multiplier) {
            const answersContainer = document.getElementById('answers');
            answersContainer.innerHTML = '';
            
            const answers = [correctAnswer];
            
            // –î–æ–¥–∞—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
            while (answers.length < 4) {
                let wrongAnswer;
                const variation = Math.floor(Math.random() * 3) + 1;
                
                if (Math.random() > 0.5) {
                    // –í—ñ–¥–ø–æ–≤—ñ–¥—å –¥—É–∂–µ –±–ª–∏–∑—å–∫–∞ –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó
                    wrongAnswer = correctAnswer + (Math.random() > 0.5 ? variation : -variation);
                } else {
                    // –í–∏–ø–∞–¥–∫–æ–≤–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤ –º–µ–∂–∞—Ö —Ç–∞–±–ª–∏—Ü—ñ –º–Ω–æ–∂–µ–Ω–Ω—è
                    const randomNum = Math.floor(Math.random() * 9) + 1;
                    wrongAnswer = currentNumber * randomNum;
                }
                
                // –ü–µ—Ä–µ–∫–æ–Ω—É—î–º–æ—Å—è, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –ø–æ–∑–∏—Ç–∏–≤–Ω–∞, –Ω–µ –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è —ñ –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π
                if (wrongAnswer > 0 && wrongAnswer !== correctAnswer && !answers.includes(wrongAnswer)) {
                    answers.push(wrongAnswer);
                }
            }
            
            // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
            shuffleArray(answers);
            
            // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–Ω–æ–ø–∫–∏ –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏
            answers.forEach(answer => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = answer;
                button.onclick = () => checkAnswer(answer, correctAnswer, button);
                answersContainer.appendChild(button);
            });
        }

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
        function checkAnswer(selectedAnswer, correctAnswer, button) {
            const allButtons = document.querySelectorAll('.answer-btn');
            
            // –ë–ª–æ–∫—É—î–º–æ –≤—Å—ñ –∫–Ω–æ–ø–∫–∏
            allButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.transform = 'scale(1)';
                if (parseInt(btn.textContent) === correctAnswer) {
                    btn.classList.add('correct');
                }
            });
            
            // –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞, –¥–æ–¥–∞—î–º–æ —á–µ—Ä–≤–æ–Ω–∏–π –∫–æ–ª—ñ—Ä —Ç–∞ –Ω–µ–ø—Ä–∏—î–º–Ω–∏–π –∑–≤—É–∫
            if (selectedAnswer !== correctAnswer) {
                button.classList.add('wrong');
                createWrongSound(); // –ù–µ–ø—Ä–∏—î–º–Ω–∏–π –∑–≤—É–∫
            } else {
                score++;
                createCorrectSound(); // –ü—Ä–∏—î–º–Ω–∏–π –∑–≤—É–∫
            }
            
            // –ß–µ–∫–∞—î–º–æ 1.5 —Å–µ–∫—É–Ω–¥–∏ –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –ø–∏—Ç–∞–Ω–Ω—è–º
            setTimeout(() => {
                generateQuestion();
            }, 1500);
        }

        // –ü–æ–∫–∞–∑—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
        function showResults() {
            hideAllScreens();
            const resultScreen = document.getElementById('resultScreen');
            resultScreen.style.display = 'block';
            
            document.getElementById('finalScore').textContent = `${score}/${totalQuestions}`;
            
            // –í–∏–∑–Ω–∞—á–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ –µ–º–æ–¥–∑—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
            let message, emoji;
            const percentage = (score / totalQuestions) * 100;
            
            if (percentage >= 90) {
                message = "–í—ñ–¥–º—ñ–Ω–Ω–æ! 4-–ê - –≥–µ–Ω—ñ—ó! üöÄ";
                emoji = "üéâ";
            } else if (percentage >= 70) {
                message = "–î–æ–±—Ä–µ! 4-–ê —Ç–∞–∫ —Ç—Ä–∏–º–∞—Ç–∏! üëç";
                emoji = "üòä";
            } else if (percentage >= 50) {
                message = "–ù–µ–ø–æ–≥–∞–Ω–æ! 4-–ê –ø–æ—Ç—Ä–µ–Ω—É–π—Ç–µ—Å—è —â–µ! üí™";
                emoji = "ü§î";
            } else {
                message = "–ù–µ –∑–∞—Å–º—É—á—É–π—Ç–µ—Å—å! 4-–ê —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑! üê±";
                emoji = "üò∫";
            }
            
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultImage').textContent = emoji;
        }

        // –î–æ–ø–æ–º—ñ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–µ—Ä–µ–º—ñ—à—É–≤–∞–Ω–Ω—è –º–∞—Å–∏–≤—É
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // –•–æ–≤–∞—î–º–æ –≤—Å—ñ –µ–∫—Ä–∞–Ω–∏
        function hideAllScreens() {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.style.display = 'none';
            });
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        window.onload = function() {
            createNumberButtons();
        }
    </script>
</body>
</html>
